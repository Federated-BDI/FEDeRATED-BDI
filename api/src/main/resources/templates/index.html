<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <title>FEDeRATED Node</title>
    <link rel="stylesheet"
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
          crossorigin="anonymous">
    <link rel="stylesheet" href="./style.css">
</head>
<body>
<div>
    <div class="header">
        <img src="./LOGO_FEDeRATED_ESE_H-54px.png" alt="FEDeRATED logo">
    </div>
    <div class="content-wrapper">
        <div class="content">
            <h3>BDI Node</h3>
            <p>Welcome to this FEDeRATED Node! Please try out the API using the Swagger UI listed below.</p>
            <table class="table table-striped table-responsive-md">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>URL</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Version</td>
                    <td th:text="${version}"></td>
                </tr>
                <tr>
                    <td>Open API specification / Swagger UI</td>
                    <td><a href="./swagger-ui/index.html">/swagger-ui/index.html</a></td>
                </tr>
                </tbody>
            </table>

            <h3>Documentation</h3>
            <p>Documentation for this FEDeRATED node is available on github.com, please follow the links below for more details.</p>
            <table class="table table-striped table-responsive-md">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>URL</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Technical documentation</td>
                    <td><a href="https://github.com/TNO/FEDeRATED-BDI/tree/main/docs">https://github.com/TNO/FEDeRATED-BDI/tree/main/docs</a></td>
                </tr>
                <tr>
                    <td>Source code</td>
                    <td><a href="https://github.com/TNO/FEDeRATED-BDI/">https://github.com/TNO/FEDeRATED-BDI/</a></td>
                </tr>
                <tr>
                    <td>Kubernetes installation / Helm charts</td>
                    <td><a href="https://github.com/Federated-BDI/Kubernetes-BDI-Node">https://github.com/Federated-BDI/Kubernetes-BDI-Node</a></td>
                </tr>
                </tbody>
            </table>

            <h3>Corda Network</h3>
            <p>
                This section describes the Corda network properties, but also the runtime information of the network.
                A BDI node typically one uses one identity, but can have multiple. The identity uniquely identifies a node in the network.
                An identity in a Corda network consist of a X509 name. Note that BDI nodes require at least one Notary to be
                present in order to sign transactions on the network. The peers in the list are the other nodes on the network that are able to
                receive events.
            </p>
            <table class="table table-striped table-responsive-md">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Value</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Corda RPC URL</td>
                    <td th:text="${cordaRpcUrl}"></td>
                </tr>
                <tr>
                    <td>Corda Identities (this node)</td>
                    <td th:text="${identities}"></td>
                </tr>
                <tr>
                    <td>Corda Notaries</td>
                    <td th:text="${notaries}"></td>
                </tr>
                <tr>
                    <td>Corda Peers</td>
                    <td th:text="${peers}"></td>
                </tr>
                <tr>
                    <td>Corda Network Map Service (Cordite)</td>
                    <td><a th:href="${cordaNmsUrl}" th:text="${cordaNmsUrl}"></a></td>
                </tr>
                </tbody>
            </table>

            <h3>GraphDB</h3>
            <p>The <a href="./swagger-ui/index.html#/sparql-controller/sparql">/sparql</a> endpoint allows for execution of SPARQL against the configured GraphDB SPARQL endpoint below.</p>
            <table class="table table-striped table-responsive-md">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Value</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>SPARQL URL</td>
                    <td><a th:href="${graphdbSparqlUrl}" th:text="${graphdbSparqlUrl}"></a></td>
                </tr>
                </tbody>
            </table>

            <h3>Event Distribution</h3>
            <p>Event distribution rules are configurable. The default rule is to distribute events to all peers in the network. The following distribution rules are configured:</p>
            <table class="table table-striped table-responsive-md">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Value</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Event distribution rule(s)</td>
                    <td th:text="${eventDistributionRules}"></td>
                </tr>
                </tbody>
            </table>

            <h3>Spring Boot Actuator Endpoints</h3>
            <p>For more information regarding Spring Boot actuator endpoints please refer to the <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html">documentation</a>.</p>
            <table class="table table-striped table-responsive-md">
                <thead>
                <tr>
                    <th>Name</th>
                    <th>Value</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Environment</td>
                    <td><a href="./actuator/env">/actuator/env</a></td>
                </tr>
                <tr>
                    <td>Prometheus metrics</td>
                    <td><a href="./actuator/prometheus">/actuator/prometheus</a></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
    <div class="footer"><p>FEDeRATED Node Version: <i th:text="${version}"></i></p></div>
</div>
</body>
</html>