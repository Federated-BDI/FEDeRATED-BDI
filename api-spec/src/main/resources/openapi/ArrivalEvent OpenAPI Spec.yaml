openapi: 3.0.0
info:
    title: ArrivalEvent
    version: undefined
    description: "This OAS Specification was generated by Semantic Treehouse's FIT Wizard on 2023-05-02T16:40:07+02:00. It is meant as a starting point for developers. No rights can be derived from this document."

paths:
    /ArrivalEvent:
        post:
            summary: "Create a resource of type ArrivalEvent."
            description: "Create a resource of type ArrivalEvent."
            requestBody:
                content:
                    application/json:
                        schema:
                            $ref: "#/components/schemas/ArrivalEvent"
                required: true
            responses:
                "200":
                    description: "Successfully created the resource."
                    content:
                        application/json:
                            schema:
                                $ref: "#/components/schemas/ArrivalEvent"
                "400":
                    description: "Bad Request"
                "401":
                    description: "Unauthorised"
                "415":
                    description: "Unsupported Media Type"
    "/ArrivalEvent/{resourceId}":
        get:
            summary: "Retrieve a resource of type ArrivalEvent by id."
            description: "Retrieve a resource of type ArrivalEvent by id."
            parameters:
                -   name: resourceId
                    in: path
                    required: true
                    schema:
                        type: string
                    style: simple
            responses:
                "200":
                    description: "Successful operation."
                    content:
                        application/json:
                            schema:
                                type: string
                "400":
                    description: "Bad Request"
                "401":
                    description: "Unauthorised"
                "404":
                    description: "Resource not found"
                "415":
                    description: "Unsupported Media Type"

components:
    schemas:
        ArrivalEvent:
            title: "ArrivalEvent version undefined"
            description: "Generated by TNO FEDeRATED"
            required:
                - involvedActors
                - transportMeans
                - timestamp
                - timeClassification
            additionalProperties: false
            properties:
                involvedActors:
                    items:
                        $ref: "#/components/schemas/Actor"
                    type: array # multiple actors in 1 event
                transportMeans:
                    items:
                        $ref: "#/components/schemas/TransportMeans" # still need to discuss how conveyance number can be accommodated
                    type: array
                timestamp:
                    type: string
                    format: date-time
                timeClassification:
                    type: string
                    enum: [ Actual, Estimated, Expected, Planned, Requested ]
            type: object

        Actor:
            title: "Actor in the business transaction "
            description: "Actor has a role and is described by a legal person - relevant for us: consignor, consignee, carrier"
            required:
                - actorLegalPerson
                - actorLogisticsRole
            additionalProperties: false
            properties:
                actorLegalPerson:
                    required:
                      [ legalPersonAddress, legalPersonName, legalPersonID, postalCode, locatedAtStreetName, postalAddress, locatedInCountry, locatedInCity ]
                    additionalProperties: false
                    type: object
                    properties:
                        postalCode:
                            type: string
                        locatedAtStreetName:
                            type: string
                        postalAddress:
                            type: string
                        locatedInCountry:
                            type: string
                            enum: [ AD, AE, AF, AG, AI, AL, AM, AO, AQ, AR, AS, AT, AU, AW, AX, AZ, BA, BB, BD, BE, BF, BG, BH, BI, BJ, BL, BM, BN, BO, BQ, BR, BS, BT, BW, BY, BZ, CA, CC, CD, CF, CG, CH, CI, CK, CL, CM, CN, CO, CR, CU, CV, CW, CX, CY, CZ, DE, DJ, DK, DM, DO, DZ, EC, EE, EG, EH, ER, ES, ET, FI, FJ, FK, FM, FO, FR, GA, GB, GD, GE, GF, GG, GH, GI, GL, GM, GN, GP, GQ, GR, GS, GT, GU, GW, GY, HK, HM, HN, HR, HT, HU, ID, IE, IL, IM, IN, IO, IQ, IR, IS, IT, JE, JM, JO, JP, KE, KG, KH, KI, KM, KN, KP, KR, KW, KY, KZ, LA, LB, LC, LI, LK, LR, LS, LT, LU, LV, LY, MA, MC, MD, ME, MF, MG, MH, MK, ML, MM, MN, MO, MP, MQ, MR, MS, MT, MU, MV, MW, MX, MY, MZ, NC, NE, NF, NG, NI, NL, NO, NP, NR, NU, NZ, OM, PA, PE, PF, PG, PH, PK, PL, PM, PN, PR, PS, PT, PW, PY, QA, RE, RO, RS, RU, RW, SA, SB, SC, SD, SE, SG, SH, SI, SJ, SK, SL, SM, SN, SO, SR, SS, ST, SV, SX, SY, SZ, TC, TD, TF, TG, TH, TJ, TK, TL, TM, TN, TO, TR, TT, TV, TW, TZ, UA, UG, UM, US, UY, UZ, VA, VC, VE, VG, VI, VN, VU, WF, WS, XZ, YE, YT, ZA, ZM, ZW ]
                        locatedInCity:
                            type: string
                        legalPersonName:
                            type: string
                        legalPersonID:
                            type: string
                actorLogisticsRole:
                    type: string
                    enum: [ Consignee, Consignor, Carrier ]
            type: object

        TransportMeans:
            title: "Transport means"
            description: "Specialized digital twin, mostly truck"
            type: object
            properties:
                digitalTwinID:
                    type: string
                transportMeansMode:
                    type: string
                    enum: [ Sea, Rail, Road, Air, Mail, Multimodal, Pipelines, InlandWaterways ]
                hasTransportMeansNationality:
                    type: string
                    enum: [ AD, AE, AF, AG, AI, AL, AM, AO, AQ, AR, AS, AT, AU, AW, AX, AZ, BA, BB, BD, BE, BF, BG, BH, BI, BJ, BL, BM, BN, BO, BQ, BR, BS, BT, BW, BY, BZ, CA, CC, CD, CF, CG, CH, CI, CK, CL, CM, CN, CO, CR, CU, CV, CW, CX, CY, CZ, DE, DJ, DK, DM, DO, DZ, EC, EE, EG, EH, ER, ES, ET, FI, FJ, FK, FM, FO, FR, GA, GB, GD, GE, GF, GG, GH, GI, GL, GM, GN, GP, GQ, GR, GS, GT, GU, GW, GY, HK, HM, HN, HR, HT, HU, ID, IE, IL, IM, IN, IO, IQ, IR, IS, IT, JE, JM, JO, JP, KE, KG, KH, KI, KM, KN, KP, KR, KW, KY, KZ, LA, LB, LC, LI, LK, LR, LS, LT, LU, LV, LY, MA, MC, MD, ME, MF, MG, MH, MK, ML, MM, MN, MO, MP, MQ, MR, MS, MT, MU, MV, MW, MX, MY, MZ, NC, NE, NF, NG, NI, NL, NO, NP, NR, NU, NZ, OM, PA, PE, PF, PG, PH, PK, PL, PM, PN, PR, PS, PT, PW, PY, QA, RE, RO, RS, RU, RW, SA, SB, SC, SD, SE, SG, SH, SI, SJ, SK, SL, SM, SN, SO, SR, SS, ST, SV, SX, SY, SZ, TC, TD, TF, TG, TH, TJ, TK, TL, TM, TN, TO, TR, TT, TV, TW, TZ, UA, UG, UM, US, UY, UZ, VA, VC, VE, VG, VI, VN, VU, WF, WS, XZ, YE, YT, ZA, ZM, ZW ]
            additionalProperties: false
            required:
                - transportMeansMode
                - transportMeansNationality