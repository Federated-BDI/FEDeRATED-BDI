@prefix rml: <http://semweb.mmlab.be/ns/rml#> .
@prefix ql: <http://semweb.mmlab.be/ns/ql#> .
@prefix rr: <http://www.w3.org/ns/r2rml#> .
@prefix ns0: <https://ontology.tno.nl/logistics/federated/Event#> .

[]
    rml:logicalSource [
                          rml:source "data.json" ;
                          rml:referenceFormulation ql:JSONPath ;
                          rml:iterator "$"
                      ] ;
    rr:subjectMap [
                          rr:termType rr:BlankNode ;
                          rr:class ns0:ArrivalEvent
                      ] ;
    rr:predicateObjectMap [
                          rr:predicate ns0:involvesLocationRole ;
                          rr:objectMap [ rml:reference "involvesLocationRole" ]
                      ], [
                          rr:predicate ns0:involvesGoods ;
                          rr:objectMap [
                                           rr:parentTriplesMap [
                                                                   rml:logicalSource [
                                                                                         rml:source "data.json" ;
                                                                                         rml:referenceFormulation ql:JSONPath ;
                                                                                         rml:iterator "$.involvesGoods"
                                                                                     ] ;
                                                                   rr:subjectMap [
                                                                                         rr:termType rr:BlankNode ;
                                                                                         rr:class <https://ontology.tno.nl/logistics/federated/DigitalTwin#Goods>
                                                                                     ] ;
                                                                   rr:predicateObjectMap [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/Classifications#dangerousGoodsClassification> ;
                                                                                         rr:objectMap [
                                                                                                          rr:parentTriplesMap [
                                                                                                                                  rml:logicalSource [
                                                                                                                                                        rml:source "data.json" ;
                                                                                                                                                        rml:referenceFormulation ql:JSONPath ;
                                                                                                                                                        rml:iterator "$.involvesGoods.dangerousGoodsClassification[*]"
                                                                                                                                                    ] ;
                                                                                                                                  rr:subjectMap [
                                                                                                                                                        rr:termType rr:BlankNode ;
                                                                                                                                                        rr:class <https://ontology.tno.nl/logistics/federated/Classifications#DangerousGoods>
                                                                                                                                                    ] ;
                                                                                                                                  rr:predicateObjectMap [
                                                                                                                                                        rr:predicate <https://ontology.tno.nl/logistics/federated/Classifications#dangerousGoodsRegulationCode> ;
                                                                                                                                                        rr:objectMap [ rml:reference "dangerousGoodsRegulationCode" ]
                                                                                                                                                    ], [
                                                                                                                                                        rr:predicate <https://ontology.tno.nl/logistics/federated/Classifications#UNDGCode> ;
                                                                                                                                                        rr:objectMap [ rml:reference "UNDGCode" ]
                                                                                                                                                    ]
                                                                                                                              ] ;
                                                                                                          rr:joinCondition [
                                                                                                                                  rr:child "." ;
                                                                                                                                  rr:parent ".."
                                                                                                                              ]
                                                                                                      ]
                                                                                     ], [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/DigitalTwin#goodsTypeCode> ;
                                                                                         rr:objectMap [ rml:reference "goodsTypeCode" ]
                                                                                     ], [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/DigitalTwin#volume> ;
                                                                                         rr:objectMap [ rml:reference "volume" ]
                                                                                     ], [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/DigitalTwin#goodsDescription> ;
                                                                                         rr:objectMap [ rml:reference "goodsDescription" ]
                                                                                     ], [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/DigitalTwin#numberOfUnits> ;
                                                                                         rr:objectMap [ rml:reference "numberOfUnits" ]
                                                                                     ], [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/DigitalTwin#netMass> ;
                                                                                         rr:objectMap [ rml:reference "netMass" ]
                                                                                     ], [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/DigitalTwin#natureOfCargo> ;
                                                                                         rr:objectMap [ rml:reference "natureOfCargo" ]
                                                                                     ], [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/DigitalTwin#hasGrossMass> ;
                                                                                         rr:objectMap [ rml:reference "hasGrossMass" ]
                                                                                     ]
                                                               ] ;
                                           rr:joinCondition [
                                                                   rr:child "." ;
                                                                   rr:parent ".."
                                                               ]
                                       ]
                      ], [
                          rr:predicate ns0:hasTimestamp ;
                          rr:objectMap [ rml:reference "hasTimestamp" ]
                      ], [
                          rr:predicate ns0:involvesLegalPerson ;
                          rr:objectMap [
                                           rr:parentTriplesMap [
                                                                   rml:logicalSource [
                                                                                         rml:source "data.json" ;
                                                                                         rml:referenceFormulation ql:JSONPath ;
                                                                                         rml:iterator "$.involvesLegalPerson[*]"
                                                                                     ] ;
                                                                   rr:subjectMap [
                                                                                         rr:termType rr:BlankNode ;
                                                                                         rr:class <https://ontology.tno.nl/logistics/federated/BusinessService#LegalPerson>
                                                                                     ] ;
                                                                   rr:predicateObjectMap [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/BusinessService#actorWebsite> ;
                                                                                         rr:objectMap [ rml:reference "actorWebsite" ]
                                                                                     ], [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/BusinessService#actorID> ;
                                                                                         rr:objectMap [ rml:reference "actorID" ]
                                                                                     ], [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/BusinessService#actorAddress> ;
                                                                                         rr:objectMap [
                                                                                                          rr:parentTriplesMap [
                                                                                                                                  rml:logicalSource [
                                                                                                                                                        rml:source "data.json" ;
                                                                                                                                                        rml:referenceFormulation ql:JSONPath ;
                                                                                                                                                        rml:iterator "$.involvesLegalPerson[*].actorAddress[*]"
                                                                                                                                                    ] ;
                                                                                                                                  rr:subjectMap [
                                                                                                                                                        rr:termType rr:BlankNode ;
                                                                                                                                                        rr:class <https://ontology.tno.nl/logistics/federated/PhysicalInfrastructure#Location>
                                                                                                                                                    ] ;
                                                                                                                                  rr:predicateObjectMap [
                                                                                                                                                        rr:predicate <https://ontology.tno.nl/logistics/federated/PhysicalInfrastructure#Long> ;
                                                                                                                                                        rr:objectMap [ rml:reference "Long" ]
                                                                                                                                                    ], [
                                                                                                                                                        rr:predicate <https://ontology.tno.nl/logistics/federated/PhysicalInfrastructure#Lat> ;
                                                                                                                                                        rr:objectMap [ rml:reference "Lat" ]
                                                                                                                                                    ]
                                                                                                                              ] ;
                                                                                                          rr:joinCondition [
                                                                                                                                  rr:child "." ;
                                                                                                                                  rr:parent ".."
                                                                                                                              ]
                                                                                                      ]
                                                                                     ], [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/BusinessService#actorName> ;
                                                                                         rr:objectMap [ rml:reference "actorName" ]
                                                                                     ]
                                                               ] ;
                                           rr:joinCondition [
                                                                   rr:child "." ;
                                                                   rr:parent ".."
                                                               ]
                                       ]
                      ], [
                          rr:predicate ns0:hasMilestone ;
                          rr:objectMap [ rml:reference "hasMilestone" ]
                      ], [
                          rr:predicate ns0:hasSubmissionTimestamp ;
                          rr:objectMap [ rml:reference "hasSubmissionTimestamp" ]
                      ], [
                          rr:predicate ns0:involvesLocation ;
                          rr:objectMap [
                                           rr:parentTriplesMap [
                                                                   rml:logicalSource [
                                                                                         rml:source "data.json" ;
                                                                                         rml:referenceFormulation ql:JSONPath ;
                                                                                         rml:iterator "$.involvesLocation"
                                                                                     ] ;
                                                                   rr:subjectMap [
                                                                                         rr:termType rr:BlankNode ;
                                                                                         rr:class <https://ontology.tno.nl/logistics/federated/PhysicalInfrastructure#Location>
                                                                                     ] ;
                                                                   rr:predicateObjectMap [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/PhysicalInfrastructure#Long> ;
                                                                                         rr:objectMap [ rml:reference "Long" ]
                                                                                     ], [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/PhysicalInfrastructure#Lat> ;
                                                                                         rr:objectMap [ rml:reference "Lat" ]
                                                                                     ]
                                                               ] ;
                                           rr:joinCondition [
                                                                   rr:child "." ;
                                                                   rr:parent ".."
                                                               ]
                                       ]
                      ], [
                          rr:predicate ns0:involvesEquipment ;
                          rr:objectMap [
                                           rr:parentTriplesMap [
                                                                   rml:logicalSource [
                                                                                         rml:source "data.json" ;
                                                                                         rml:referenceFormulation ql:JSONPath ;
                                                                                         rml:iterator "$.involvesEquipment"
                                                                                     ] ;
                                                                   rr:subjectMap [
                                                                                         rr:termType rr:BlankNode ;
                                                                                         rr:class <https://ontology.tno.nl/logistics/federated/DigitalTwin#Equipment>
                                                                                     ] ;
                                                                   rr:predicateObjectMap [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/DigitalTwin#equipmentTypeCode> ;
                                                                                         rr:objectMap [ rml:reference "equipmentTypeCode" ]
                                                                                     ], [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/DigitalTwin#ID> ;
                                                                                         rr:objectMap [ rml:reference "ID" ]
                                                                                     ], [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/DigitalTwin#size> ;
                                                                                         rr:objectMap [ rml:reference "size" ]
                                                                                     ], [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/DigitalTwin#involvesSeal> ;
                                                                                         rr:objectMap [
                                                                                                          rr:parentTriplesMap [
                                                                                                                                  rml:logicalSource [
                                                                                                                                                        rml:source "data.json" ;
                                                                                                                                                        rml:referenceFormulation ql:JSONPath ;
                                                                                                                                                        rml:iterator "$.involvesEquipment.involvesSeal[*]"
                                                                                                                                                    ] ;
                                                                                                                                  rr:subjectMap [
                                                                                                                                                        rr:termType rr:BlankNode ;
                                                                                                                                                        rr:class <https://ontology.tno.nl/logistics/federated/DigitalTwin#Seal>
                                                                                                                                                    ] ;
                                                                                                                                  rr:predicateObjectMap [
                                                                                                                                                        rr:predicate <https://ontology.tno.nl/logistics/federated/DigitalTwin#sealIndicator> ;
                                                                                                                                                        rr:objectMap [ rml:reference "sealIndicator" ]
                                                                                                                                                    ], [
                                                                                                                                                        rr:predicate <https://ontology.tno.nl/logistics/federated/DigitalTwin#sealConditionCode> ;
                                                                                                                                                        rr:objectMap [ rml:reference "sealConditionCode" ]
                                                                                                                                                    ], [
                                                                                                                                                        rr:predicate <https://ontology.tno.nl/logistics/federated/DigitalTwin#sealQuantity> ;
                                                                                                                                                        rr:objectMap [ rml:reference "sealQuantity" ]
                                                                                                                                                    ], [
                                                                                                                                                        rr:predicate <https://ontology.tno.nl/logistics/federated/DigitalTwin#sealingPartyRoleCode> ;
                                                                                                                                                        rr:objectMap [ rml:reference "sealingPartyRoleCode" ]
                                                                                                                                                    ]
                                                                                                                              ] ;
                                                                                                          rr:joinCondition [
                                                                                                                                  rr:child "." ;
                                                                                                                                  rr:parent ".."
                                                                                                                              ]
                                                                                                      ]
                                                                                     ]
                                                               ] ;
                                           rr:joinCondition [
                                                                   rr:child "." ;
                                                                   rr:parent ".."
                                                               ]
                                       ]
                      ], [
                          rr:predicate ns0:involvesTransportMeans ;
                          rr:objectMap [
                                           rr:parentTriplesMap [
                                                                   rml:logicalSource [
                                                                                         rml:source "data.json" ;
                                                                                         rml:referenceFormulation ql:JSONPath ;
                                                                                         rml:iterator "$.involvesTransportMeans"
                                                                                     ] ;
                                                                   rr:subjectMap [
                                                                                         rr:termType rr:BlankNode ;
                                                                                         rr:class <https://ontology.tno.nl/logistics/federated/DigitalTwin#TransportMeans>
                                                                                     ] ;
                                                                   rr:predicateObjectMap [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/DigitalTwin#hasTransportmeansNationality> ;
                                                                                         rr:objectMap [ rml:reference "hasTransportmeansNationality" ]
                                                                                     ], [
                                                                                         rr:predicate <https://ontology.tno.nl/logistics/federated/DigitalTwin#hasTransportmeansID> ;
                                                                                         rr:objectMap [ rml:reference "hasTransportmeansID" ]
                                                                                     ]
                                                               ] ;
                                           rr:joinCondition [
                                                                   rr:child "." ;
                                                                   rr:parent ".."
                                                               ]
                                       ]
                      ], [
                          rr:predicate ns0:hasDateTimeType ;
                          rr:objectMap [ rml:reference "hasDateTimeType" ]
                      ], [
                          rr:predicate ns0:involvesLegalPersonRole ;
                          rr:objectMap [ rml:reference "involvesLegalPersonRole" ]
                      ] .

